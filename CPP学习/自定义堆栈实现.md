ä¸‹é¢æˆ‘å°†ä¸ºä½ ä»‹ç»å¦‚ä½•ä½¿ç”¨ C/C++ å®ç°å †æ ˆæ•°æ®ç»“æ„ï¼ˆä¸ä½¿ç”¨ STL å®¹å™¨ï¼‰ï¼ŒåŒ…æ‹¬**æ•°ç»„**å’Œ**é“¾è¡¨**ä¸¤ç§å®ç°æ–¹å¼ï¼Œå¹¶æä¾›å®Œæ•´çš„ä»£ç ç¤ºä¾‹ã€‚

# ğŸ–¥ï¸ C/C++ å †æ ˆ(Stack)å®ç°æŒ‡å—

å †æ ˆæ˜¯ä¸€ç§é‡è¦çš„**åè¿›å…ˆå‡º (LIFO)** æ•°æ®ç»“æ„ï¼Œæ’å…¥å’Œåˆ é™¤æ“ä½œéƒ½åœ¨åŒä¸€ç«¯ï¼ˆç§°ä¸ºæ ˆé¡¶ï¼‰è¿›è¡Œã€‚ä¸‹é¢æˆ‘å°†è¯¦ç»†ä»‹ç»å¦‚ä½•ä½¿ç”¨æ•°ç»„å’Œé“¾è¡¨ä¸¤ç§æ–¹å¼æ¥å®ç°å †æ ˆï¼Œå¹¶æä¾›å®Œæ•´çš„ä»£ç ç¤ºä¾‹ã€‚

## 1. å †æ ˆçš„åŸºæœ¬æ¦‚å¿µä¸æ“ä½œ

å †æ ˆçš„æ ¸å¿ƒæ“ä½œåŒ…æ‹¬ï¼š

- **Push (å…¥æ ˆ)**ï¼šå°†ä¸€ä¸ªå…ƒç´ æ”¾å…¥å †æ ˆé¡¶éƒ¨
- **Pop (å‡ºæ ˆ)**ï¼šä»å †æ ˆé¡¶éƒ¨ç§»é™¤å¹¶è¿”å›å…ƒç´ 
- **Peek/Top (æŸ¥çœ‹æ ˆé¡¶)**ï¼šè·å–é¡¶éƒ¨å…ƒç´ çš„å€¼è€Œä¸åˆ é™¤å®ƒ
- **IsEmpty (åˆ¤ç©º)**ï¼šæ£€æŸ¥å †æ ˆæ˜¯å¦ä¸ºç©º
- **IsFull (åˆ¤æ»¡)**ï¼šæ£€æŸ¥å †æ ˆæ˜¯å¦å·²æ»¡ï¼ˆä¸»è¦ç”¨äºæ•°ç»„å®ç°ï¼‰

## 2. æ•°ç»„å®ç°å †æ ˆ

æ•°ç»„å®ç°ä½¿ç”¨è¿ç»­å†…å­˜ç©ºé—´ï¼Œé€šè¿‡ä¸€ä¸ªæ ˆé¡¶æŒ‡é’ˆæ¥è·Ÿè¸ªå½“å‰æ ˆé¡¶ä½ç½®ã€‚

### 2.1 ç»“æ„å®šä¹‰

```
#define MAX_SIZE 100  // å †æ ˆæœ€å¤§å®¹é‡

template <typename T>
class ArrayStack {
private:
    T data[MAX_SIZE];  // å­˜å‚¨å †æ ˆå…ƒç´ çš„æ•°ç»„
    int top;           // æ ˆé¡¶æŒ‡é’ˆï¼ˆç´¢å¼•ï¼‰
    
public:
    ArrayStack() : top(-1) {}  // åˆå§‹åŒ–æ ˆé¡¶æŒ‡é’ˆä¸º-1ï¼ˆç©ºæ ˆï¼‰
    
    // åŸºæœ¬æ“ä½œå‡½æ•°
    bool push(T element);
    T pop();
    T peek();
    bool isEmpty();
    bool isFull();
};
```

### 2.2 æ ¸å¿ƒæ“ä½œå®ç°

```
// åˆ¤æ–­å †æ ˆæ˜¯å¦å·²æ»¡
template <typename T>
bool ArrayStack<T>::isFull() {
    return top == MAX_SIZE - 1;
}

// åˆ¤æ–­å †æ ˆæ˜¯å¦ä¸ºç©º
template <typename T>
bool ArrayStack<T>::isEmpty() {
    return top == -1;
}

// å…¥æ ˆæ“ä½œ
template <typename T>
bool ArrayStack<T>::push(T element) {
    if (isFull()) {
        std::cout << "å †æ ˆå·²æ»¡ï¼Œæ— æ³•å‹æ ˆï¼" << std::endl;
        return false;
    }
    data[++top] = element;  // æ ˆé¡¶æŒ‡é’ˆå…ˆåŠ 1ï¼Œå†å­˜å…¥å…ƒç´ 
    return true;
}

// å‡ºæ ˆæ“ä½œ
template <typename T>
T ArrayStack<T>::pop() {
    if (isEmpty()) {
        std::cout << "å †æ ˆä¸ºç©ºï¼Œæ— æ³•å‡ºæ ˆï¼" << std::endl;
        return T();  // è¿”å›é»˜è®¤å€¼
    }
    return data[top--];  // è¿”å›æ ˆé¡¶å…ƒç´ ï¼Œç„¶åæŒ‡é’ˆå‡1
}

// æŸ¥çœ‹æ ˆé¡¶å…ƒç´ 
template <typename T>
T ArrayStack<T>::peek() {
    if (isEmpty()) {
        std::cout << "å †æ ˆä¸ºç©ºï¼" << std::endl;
        return T();
    }
    return data[top];
}
```

### 2.3 æ•°ç»„å®ç°çš„ä¼˜ç¼ºç‚¹

- **ä¼˜ç‚¹**ï¼šå®ç°ç®€å•ã€è®¿é—®é€Ÿåº¦å¿«ã€å†…å­˜å¼€é”€å°
- **ç¼ºç‚¹**ï¼šå®¹é‡å›ºå®šã€å¯èƒ½å‘ç”Ÿæ ˆæº¢å‡º

## 3. é“¾è¡¨å®ç°å †æ ˆ

é“¾è¡¨å®ç°ä½¿ç”¨åŠ¨æ€å†…å­˜åˆ†é…ï¼Œæ¯ä¸ªå…ƒç´ éƒ½æ˜¯ä¸€ä¸ªèŠ‚ç‚¹ï¼ŒåŒ…å«æ•°æ®å’ŒæŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆã€‚

### 3.1 ç»“æ„å®šä¹‰

```
template <typename T>
class ListNode {
public:
    T data;
    ListNode* next;
    
    ListNode(T value) : data(value), next(nullptr) {}
};

template <typename T>
class LinkedListStack {
private:
    ListNode<T>* top;  // æ ˆé¡¶æŒ‡é’ˆ
    
public:
    LinkedListStack() : top(nullptr) {}  // åˆå§‹åŒ–ç©ºæ ˆ
    
    // åŸºæœ¬æ“ä½œå‡½æ•°
    void push(T element);
    T pop();
    T peek();
    bool isEmpty();
    ~LinkedListStack();  // ææ„å‡½æ•°ç”¨äºé‡Šæ”¾å†…å­˜
};
```

### 3.2 æ ¸å¿ƒæ“ä½œå®ç°

```
// åˆ¤æ–­å †æ ˆæ˜¯å¦ä¸ºç©º
template <typename T>
bool LinkedListStack<T>::isEmpty() {
    return top == nullptr;
}

// å…¥æ ˆæ“ä½œ
template <typename T>
void LinkedListStack<T>::push(T element) {
    ListNode<T>* newNode = new ListNode<T>(element);
    newNode->next = top;  // æ–°èŠ‚ç‚¹æŒ‡å‘å½“å‰æ ˆé¡¶
    top = newNode;        // æ›´æ–°æ ˆé¡¶ä¸ºæ–°èŠ‚ç‚¹
}

// å‡ºæ ˆæ“ä½œ
template <typename T>
T LinkedListStack<T>::pop() {
    if (isEmpty()) {
        std::cout << "å †æ ˆä¸ºç©ºï¼Œæ— æ³•å‡ºæ ˆï¼" << std::endl;
        return T();
    }
    
    ListNode<T>* temp = top;  // ä¿å­˜å½“å‰æ ˆé¡¶
    T poppedValue = top->data; // ä¿å­˜è¦è¿”å›çš„å€¼
    top = top->next;          // æ›´æ–°æ ˆé¡¶ä¸ºä¸‹ä¸€ä¸ªèŠ‚ç‚¹
    delete temp;              // é‡Šæ”¾åŸæ ˆé¡¶å†…å­˜
    
    return poppedValue;
}

// æŸ¥çœ‹æ ˆé¡¶å…ƒç´ 
template <typename T>
T LinkedListStack<T>::peek() {
    if (isEmpty()) {
        std::cout << "å †æ ˆä¸ºç©ºï¼" << std::endl;
        return T();
    }
    return top->data;
}

// ææ„å‡½æ•° - é‡Šæ”¾æ‰€æœ‰èŠ‚ç‚¹å†…å­˜
template <typename T>
LinkedListStack<T>::~LinkedListStack() {
    while (!isEmpty()) {
        pop();
    }
}
```

### 3.3 é“¾è¡¨å®ç°çš„ä¼˜ç¼ºç‚¹

- **ä¼˜ç‚¹**ï¼šåŠ¨æ€å®¹é‡ã€ä¸ä¼šæº¢å‡ºï¼ˆé™¤éå†…å­˜è€—å°½ï¼‰ã€å†…å­˜ä½¿ç”¨é«˜æ•ˆ
- **ç¼ºç‚¹**ï¼šå®ç°ç¨å¤æ‚ã€æ¯ä¸ªå…ƒç´ éœ€è¦é¢å¤–æŒ‡é’ˆç©ºé—´ã€è®¿é—®é€Ÿåº¦ç¨æ…¢

## 4. å®Œæ•´ç¤ºä¾‹ä»£ç 

ä»¥ä¸‹æ˜¯ä¸€ä¸ªä½¿ç”¨æ•°ç»„å®ç°å †æ ˆçš„å®Œæ•´ç¤ºä¾‹ï¼š

```
#include <iostream>
#include <string>

#define MAX_SIZE 100

template <typename T>
class ArrayStack {
private:
    T data[MAX_SIZE];
    int top;
    
public:
    ArrayStack() : top(-1) {}
    
    bool push(T element) {
        if (isFull()) {
            std::cout << "å †æ ˆå·²æ»¡ï¼Œæ— æ³•å‹æ ˆï¼" << std::endl;
            return false;
        }
        data[++top] = element;
        return true;
    }
    
    T pop() {
        if (isEmpty()) {
            std::cout << "å †æ ˆä¸ºç©ºï¼Œæ— æ³•å‡ºæ ˆï¼" << std::endl;
            return T();
        }
        return data[top--];
    }
    
    T peek() {
        if (isEmpty()) {
            std::cout << "å †æ ˆä¸ºç©ºï¼" << std::endl;
            return T();
        }
        return data[top];
    }
    
    bool isEmpty() {
        return top == -1;
    }
    
    bool isFull() {
        return top == MAX_SIZE - 1;
    }
    
    int size() {
        return top + 1;
    }
};

int main() {
    ArrayStack<std::string> stack;
    
    // å‹å…¥ä¸€äº›å…ƒç´ 
    stack.push("Hello");
    stack.push("World");
    stack.push("C++");
    stack.push("Stack");
    
    std::cout << "å †æ ˆå¤§å°: " << stack.size() << std::endl;
    std::cout << "æ ˆé¡¶å…ƒç´ : " << stack.peek() << std::endl;
    
    // å¼¹å‡ºæ‰€æœ‰å…ƒç´ 
    std::cout << "\nå‡ºæ ˆé¡ºåº:" << std::endl;
    while (!stack.isEmpty()) {
        std::cout << stack.pop() << std::endl;
    }
    
    return 0;
}
```

## 5. å®ç°å †æ ˆçš„å…³é”®è¦ç‚¹

1. **æ ˆé¡¶æŒ‡é’ˆç®¡ç†**ï¼šæ— è®ºæ˜¯æ•°ç»„è¿˜æ˜¯é“¾è¡¨å®ç°ï¼Œéƒ½éœ€è¦å‡†ç¡®ç»´æŠ¤æ ˆé¡¶æŒ‡é’ˆã€‚
2. **è¾¹ç•Œæ¡ä»¶å¤„ç†**ï¼šå§‹ç»ˆåœ¨æ“ä½œå‰æ£€æŸ¥æ ˆç©ºæˆ–æ ˆæ»¡æ¡ä»¶ã€‚
3. **å†…å­˜ç®¡ç†**ï¼šé“¾è¡¨å®ç°éœ€è¦ç‰¹åˆ«æ³¨æ„å†…å­˜ç®¡ç†ï¼Œç¡®ä¿å‡ºæ ˆæ—¶é‡Šæ”¾èŠ‚ç‚¹å†…å­˜ã€‚
4. **æ¨¡æ¿åŒ–è®¾è®¡**ï¼šä½¿ç”¨æ¨¡æ¿å¯ä»¥ä½¿å †æ ˆæ”¯æŒå¤šç§æ•°æ®ç±»å‹ã€‚
5. **å¼‚å¸¸å¤„ç†**ï¼šè€ƒè™‘æ·»åŠ å¼‚å¸¸å¤„ç†æœºåˆ¶ï¼Œä½¿ä»£ç æ›´å¥å£®ï¼ˆä¸Šè¿°ç¤ºä¾‹ä¸ºç®€åŒ–ä½¿ç”¨ç®€å•è¿”å›å€¼ï¼‰ã€‚

## 6. å †æ ˆçš„åº”ç”¨åœºæ™¯

å †æ ˆåœ¨è®¡ç®—æœºç§‘å­¦ä¸­æœ‰å¹¿æ³›çš„åº”ç”¨ï¼š

- **è¡¨è¾¾å¼æ±‚å€¼**ï¼šä¸­ç¼€è¡¨è¾¾å¼è½¬åç¼€è¡¨è¾¾å¼ï¼Œåç¼€è¡¨è¾¾å¼æ±‚å€¼
- **å‡½æ•°è°ƒç”¨**ï¼šä¿å­˜å‡½æ•°è°ƒç”¨ä¸Šä¸‹æ–‡å’Œè¿”å›åœ°å€
- **å›æº¯ç®—æ³•**ï¼šå¦‚æ·±åº¦ä¼˜å…ˆæœç´¢ã€è¿·å®«æ±‚è§£
- **æ’¤é”€æœºåˆ¶**ï¼šè®¸å¤šåº”ç”¨ç¨‹åºä¸­çš„æ’¤é”€(Undo)åŠŸèƒ½
- **æ‹¬å·åŒ¹é…**ï¼šæ£€æŸ¥ä»£ç ä¸­çš„æ‹¬å·æ˜¯å¦æ­£ç¡®åŒ¹é…

## æ€»ç»“

é€‰æ‹©æ•°ç»„è¿˜æ˜¯é“¾è¡¨å®ç°å †æ ˆå–å†³äºå…·ä½“åº”ç”¨éœ€æ±‚ã€‚**æ•°ç»„å®ç°**æ›´é€‚åˆéœ€è¦**é«˜æ€§èƒ½å’Œç¡®å®šæ€§å†…å­˜ä½¿ç”¨**çš„åœºæ™¯ï¼Œè€Œ**é“¾è¡¨å®ç°**åˆ™æ›´é€‚åˆéœ€è¦**åŠ¨æ€å¢é•¿å’Œä¸ç¡®å®šå…ƒç´ æ•°é‡**çš„åœºæ™¯ã€‚ä¸¤ç§å®ç°æ–¹å¼éƒ½é¿å…äº†ä½¿ç”¨STLå®¹å™¨ï¼Œæä¾›äº†å¯¹å†…å­˜å’Œæ“ä½œçš„å®Œå…¨æ§åˆ¶ã€‚

å¸Œæœ›æœ¬æŒ‡å—å¸®åŠ©ä½ ç†è§£äº†å¦‚ä½•å®ç°è‡ªå·±çš„å †æ ˆæ•°æ®ç»“æ„ã€‚å¦‚æœä½ æœ‰ç‰¹å®šåº”ç”¨åœºæ™¯æˆ–æ€§èƒ½éœ€æ±‚ï¼Œå¯ä»¥æ ¹æ®è¿™äº›åŸºç¡€å®ç°è¿›è¡Œä¼˜åŒ–å’Œæ‰©å±•ã€‚